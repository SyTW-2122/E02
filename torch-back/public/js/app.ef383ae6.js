(function(t){function e(e){for(var a,o,i=e[0],l=e[1],c=e[2],m=0,d=[];m<i.length;m++)o=i[m],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,i=1;i<s.length;i++){var l=s[i];0!==r[l]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},r={app:0},n=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0fad":function(t,e){t.exports="data:image/png;base64,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"},2395:function(t,e,s){},"3c2b":function(t,e,s){"use strict";s("feca")},"44c6":function(t,e,s){t.exports=s.p+"img/facebook.66a75bda.svg"},"48af":function(t,e,s){"use strict";s("626b")},"4f27":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("5f5b"),r=s("b1e0"),n=s("2b88"),o=s.n(n),i=(s("f9e3"),s("2dd8"),s("5aea"),s("75e1"),s("ad3d")),l=s("ecee"),c=s("c074"),u=s("2b0e"),m=s("2f62"),d=s("7bb1"),p=s("4c7d"),f=s.n(p),h=s("bfa9"),g=s("1da1"),b=(s("96cf"),s("d3b7"),s("bc3a")),v=s.n(b),w=s("bee2"),x=s("d4ec"),C=s("ade3"),A=(s("e9c4"),"https://torch-net.herokuapp.com/api/auth/"),y=Object(w["a"])((function t(){Object(x["a"])(this,t),Object(C["a"])(this,"login",(function(t){return v.a.post("".concat(A,"login"),{username:t.username,password:t.password}).then((function(t){return t.data.accessToken&&(localStorage.setItem("user",JSON.stringify(t.data)),localStorage.setItem("token",t.data.accessToken)),t.data}))})),Object(C["a"])(this,"logout",(function(){localStorage.removeItem("user"),localStorage.removeItem("token")})),Object(C["a"])(this,"register",(function(t){return v.a.post("".concat(A,"register"),{username:t.username,password:t.password})}))})),U=new y,_=JSON.parse(localStorage.getItem("user")),k=JSON.parse(localStorage.getItem("token")),P=_?{status:{loggedIn:!0},userData:_,token:k}:{status:{loggedIn:!1},userData:{success:!1,msg:"",token:"",data:{},routines:[],following:[],followers:[]},token:""},O={namespaced:!0,state:P,getters:{isLoggedIn:function(t){return t.status.loggedIn},getToken:function(t){return t.token},getUser:function(t){return t.user},getUserName:function(t){return t.user.data.username}},actions:{login:function(t,e){var s=t.commit;return U.login(e).then((function(t){return s("loginSuccess",t),Promise.resolve(t)}),(function(t){return s("loginFailure"),Promise.reject(t)}))},logout:function(t){var e=t.commit;U.logout(),e("logout")},register:function(t,e){var s=t.commit;return U.register(e).then((function(t){return s("registerSuccess"),Promise.resolve(t.data)}),(function(t){return s("registerFailure"),Promise.reject(t)}))},attempt:function(t){return Object(g["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t.commit,a=JSON.parse(localStorage.getItem("token")),null===k){e.next=5;break}return e.next=5,v.a.get("http://localhost:5000/api/auth/user",{headers:{ContentType:"application/json",xAuthToken:a}}).then((function(t){s("setToken",a),s("loginSuccess",t.data)})).catch((function(t){console.log(t),localStorage.removeItem("token")}));case 5:case"end":return e.stop()}}),e)})))()}},mutations:{loginSuccess:function(t,e){t.status.loggedIn=!0,t.user=e},loginFailure:function(t){t.status.loggedIn=!1,t.user=null},logout:function(t){t.status.loggedIn=!1,t.user=null},registerSuccess:function(t){t.status.loggedIn=!1},registerFailure:function(t){t.status.loggedIn=!1},setToken:function(t,e){t.token=e}}},j=(s("99af"),"https://torch-net.herokuapp.com/api/user/"),S=Object(w["a"])((function t(){Object(x["a"])(this,t),Object(C["a"])(this,"all",(function(){return v.a.get("".concat(j)).then((function(t){return console.log(t.data),t.data}))})),Object(C["a"])(this,"fetchByName",(function(t){return v.a.get("".concat(j,"get/").concat(t)).then((function(t){return t.data}))})),Object(C["a"])(this,"getUserImage",(function(t){return v.a.get("".concat(j,"get/").concat(t,"/image")).then((function(t){return t.data}))})),Object(C["a"])(this,"toggleFollow",(function(t,e){return v.a.post("".concat(j,"follow/").concat(e),{username:t}).then((function(t){return t.data}))})),Object(C["a"])(this,"edit",(function(t){return v.a.put("".concat(j,"edit/").concat(t.urlUsername),{username:t.username,password:t.password,subname:t.subname,email:t.email,bio:t.bio,image:t.image})})),Object(C["a"])(this,"changePassword",(function(t){return v.a.put("".concat(j,"edit/").concat(t.u.username,"/password"),{password:t.p})}))})),I=new S,R={namespaced:!0,state:{user:{data:{},routines:[],following:[],followers:[]}},actions:{getAll:function(){return I.all().then((function(t){return Promise.resolve(t)}))},getByUsername:function(t,e){var s=t.commit;return I.fetchByName(e).then((function(t){return s("fetchSuccess",t),Promise.resolve(t)}))},getUserImage:function(t,e){var s=t.commit;return I.getUserImage(e).then((function(t){return s("fetchSuccess",t),Promise.resolve(t)}))},edit:function(t,e,s){var a=t.commit;return I.edit(e,s).then((function(t){return a("editSuccess",t.data),Promise.resolve(t.data)}),(function(t){return Promise.reject(t)}))},changePassword:function(t,e){var s=t.commit;return I.changePassword(e).then((function(t){return s("imgSearchSuccess",t.data),Promise.resolve(t.data)}),(function(t){return Promise.reject(t)}))},toggleFollow:function(t,e){var s=t.commit;return I.toggleFollow(e.current,e.toFollow).then((function(t){return s("updateFollowers",t),Promise.resolve(t)}),(function(t){return Promise.reject(t)}))}},mutations:{fetchSuccess:function(t,e){t.user=e},imgSearchSuccess:function(t,e){console.log(e)},editSuccess:function(t,e){t.user=e},updateFollowers:function(t,e){t.user.followers=e.toFollow.followers,t.user.following=e.toFollow.following,O.state.userData.followers=e.current.followers,O.state.userData.following=e.current.following}}},E=new h["a"]({storage:window.localStorage}),N={modules:{auth:O,user:R},plugins:[E.plugin]},D=s("8c4f"),L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("router-link",{attrs:{to:"/"}},[s("div",[s("div",{staticClass:"starsec"}),s("div",{staticClass:"starthird"}),s("div",{staticClass:"starfourth"}),s("div",{staticClass:"starfifth"})]),s("div",{staticClass:"lamp__wrap"},[s("div",{staticClass:"lamp"},[s("div",{staticClass:"cable"}),s("div",{staticClass:"cover"}),s("div",{staticClass:"in-cover"},[s("div",{staticClass:"bulb"})]),s("div",{staticClass:"light"})])]),s("b-row",{staticClass:"error text-center"},[s("b-col",{staticClass:"error__content text-center"},[s("div",{staticClass:"error__message message"},[s("h1",{staticClass:"message__title"},[t._v("Page Not Found")]),s("p",{staticClass:"message__text"},[t._v(" We're sorry, the page you were looking for isn't found here. The link you followed may either be broken or no longer exists. Please try again, or take a look at our. ")])])])],1)],1)],1)},B=[],F={name:"404NotFound"},q=F,J=(s("6671"),s("2877")),H=Object(J["a"])(q,L,B,!1,null,"693ab8cc",null),T=H.exports,W=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"explore"},[s("h1",[t._v("This is the explore page")])])}],K={name:"Explore",computed:{currentUser:function(){return this.$store.state.auth.user}},mounted:function(){this.currentUser||this.$router.push("/")}},M=K,X=Object(J["a"])(M,W,Q,!1,null,null,null),$=X.exports,Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container",attrs:{id:"User"}},[s("b-row",{attrs:{id:"settings-button"}},[t.urlUser.username!==t.authUser.data.username?s("b-col",{staticClass:"pt-3 ps-4 text-start",attrs:{sm:"2"}},[s("router-link",{attrs:{tag:"div",to:{path:""+t.prevRoute.path}}},[s("font-awesome-icon",{staticClass:"fa-2x",attrs:{icon:"chevron-left",id:"settings"}})],1)],1):t._e(),s("b-col",{staticClass:"py-3 ps-4 text-end",attrs:{sm:"12"}},[t.urlUser.username===t.authUser.data.username?s("font-awesome-icon",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-1",modifiers:{"sidebar-1":!0}}],staticClass:"fa-2x",attrs:{icon:"bars",id:"settings"}}):t._e(),t.urlUser.username!==t.authUser.data.username?s("font-awesome-icon",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-2",modifiers:{"sidebar-2":!0}}],staticClass:"fa-2x",attrs:{icon:"ellipsis-h",id:"options"}}):t._e()],1)],1),this.urlUser.username!==this.authUser.data.username?s("b-row",{attrs:{id:"options-button"}},[s("b-col",{staticClass:"py-3",attrs:{sm:"12"}})],1):t._e(),t.user?s("ProfileHeader",{attrs:{id:"profile-header",user:t.urlUser,authUser:t.authUser,mobile:t.mobile}}):t._e(),s("ProfileTools")],1),s("b-sidebar",{attrs:{id:"sidebar-1","aria-label":"Sidebar with custom footer","no-header":"",backdrop:"",shadow:""},scopedSlots:t._u([{key:"footer",fn:function(e){var a=e.hide;return[s("b-row",{staticClass:"text-center"},[s("b-col",{attrs:{cols:"12"}},[s("b-button",{staticClass:"px-5",attrs:{size:"mg",block:"",variant:"outline-danger"},on:{click:function(e){return e.preventDefault(),t.logOut.apply(null,arguments)}}},[t._v(" log out "),s("span",[s("font-awesome-icon",{staticClass:"fa-lg mx-2",attrs:{icon:"power-off",id:"settings"}})],1)])],1),s("b-col",[s("b-button",{staticClass:"mt-4 mb-3 py-1",attrs:{size:"lg"},on:{click:a}},[t._v("Close ")])],1)],1)]}}])},[s("div",{staticClass:"px-3 py-2"})]),s("b-sidebar",{attrs:{id:"sidebar-2","aria-label":"Sidebar with custom footer","no-header":"",backdrop:"",shadow:""},scopedSlots:t._u([{key:"footer",fn:function(e){var a=e.hide;return[s("b-row",{staticClass:"text-center"},[s("b-col",{attrs:{cols:"12"}},[s("b-button",{staticClass:"px-5",attrs:{size:"mg",block:"",variant:"outline-secondary"},on:{click:function(t){t.preventDefault()}}},[t._v(" report "+t._s(t.urlUser.username)+" ")])],1),s("b-col",[s("b-button",{staticClass:"mt-4 mb-3 py-1",attrs:{size:"lg"},on:{click:a}},[t._v("Close ")])],1)],1)]}}])},[s("div",{staticClass:"px-3 py-2"})])],1)},z=[],V=s("5530"),G=(s("b0c0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("b-row",{attrs:{id:"user-head-info"}},[s("b-col",{attrs:{"align-self":"center",cols:"8 px-1"}},[s("b-row",{staticClass:"text-sm",attrs:{"align-v":"center"}},[s("b-col",{},[s("p",{staticClass:"my-0 fw-bold text-center"},[t._v(" 0 "),t.mobile?t._e():s("span",{staticClass:"text-secondary fw-md"},[t._v(" routines")])]),t.mobile?s("p",{staticClass:"my-0 text-secondary  text-center"},[t._v("routines")]):t._e()]),s("b-col",{},[s("router-link",{attrs:{to:{path:"/"+t.user.username+"/followers"},tag:"div"}},[s("p",{staticClass:"my-0 text-center fw-bold"},[t._v(" "+t._s(t.user.followers.length)+" "),t.mobile?t._e():s("span",{staticClass:"text-secondary fw-md"},[t._v(" followers ")])]),t.mobile?s("p",{staticClass:"my-0 text-center text-secondary"},[t._v("followers")]):t._e()])],1),s("b-col",{},[s("router-link",{attrs:{to:{path:"/"+t.user.username+"/following"},tag:"div"}},[s("p",{staticClass:"my-0 text-center fw-bold"},[t._v(t._s(t.user.following.length)+" "),t.mobile?t._e():s("span",{staticClass:"text-secondary fw-md"},[t._v(" following ")])]),t.mobile?s("p",{staticClass:"my-0 text-center text-secondary"},[t._v("following")]):t._e()])],1)],1)],1),s("b-col",{staticClass:"text-end px-1",attrs:{cols:"4"}},[t.mobile?s("b-img",{staticClass:"img-sm-limit center-cropped",attrs:{fluid:"",id:"picture",rounded:"circle",alt:"profile picture",src:t.imageUrlUpdate},on:{error:function(e){t.imageError=!0}}}):s("b-img",{staticClass:"img-limit center-cropped",attrs:{id:"picture",src:t.imageUrlUpdate,rounded:"circle",alt:"profile picture"},on:{error:function(e){t.imageError=!0}}})],1)],1),s("b-row",{attrs:{id:"user-text-info"}},[s("b-col",{attrs:{cols:"8"}},[t._v(t._s(t.user.bio))]),s("b-col",{staticClass:"text-end",attrs:{cols:"4"}},[s("p",{staticClass:"pt-2 my-0 fw-bold text-capitalize"},[t._v(t._s(t.user.username))]),s("p",{staticClass:"py-0 my-0 fw-light"},[t._v(t._s(t.user.subname))])])],1),t.isPersonal?s("b-row",{staticClass:"py-3",attrs:{"order-md":"3",id:"buttons"}},[t.mobile?s("b-container",{staticClass:"px-2",attrs:{fluid:"xl"}},[s("b-button",{staticClass:"my-2 me-2 px-4",attrs:{to:{path:"/"+t.user.username+"/edit-profile"},id:"edit",size:"sm"}},[t._v("edit profile")]),s("b-button",{staticClass:"my-2 px-5",attrs:{id:"stats",size:"sm"}},[t._v("stats")])],1):t._e(),t.mobile?t._e():s("b-container",{staticClass:"px-5 text-start",attrs:{fluid:"xl"}},[s("b-button",{staticClass:"my-2 me-2 px-4",attrs:{to:{path:"/"+t.user.username+"/edit-profile"},id:"edit",size:"lg"}},[t._v("edit profile")]),s("b-button",{staticClass:"my-2 px-5",attrs:{id:"stats",size:"lg"}},[t._v("stats")])],1)],1):t._e(),t.isPersonal?t._e():s("b-row",{staticClass:"py-3",attrs:{"order-md":"3",id:"buttons"}},[t.mobile?s("b-container",{staticClass:"px-2",attrs:{fluid:"xl"}},[s("b-button",{staticClass:"my-2 px-5",attrs:{id:"stats",variant:t.followed&&!t.aux?"outline-secondary":"primary",size:"sm"},on:{click:t.handleFollow}},[t._v(t._s(t.followed&&!t.aux?"unfollow":"follow"))])],1):t._e(),t.mobile?t._e():s("b-container",{staticClass:"px-5 text-start",attrs:{fluid:"xl"}},[s("b-button",{staticClass:"my-2 px-5",attrs:{id:"stats",variant:t.followed&&!t.aux?"outline-secondary":"primary",size:"lg"},on:{click:t.handleFollow}},[t._v(t._s(t.followed&&!t.aux?"unfollow":"follow"))])],1)],1)],1)}),Z=[],tt=(s("d81d"),s("25f0"),s("fd0f")),et={name:"ProfileHeader",props:["user","authUser","mobile"],data:function(){return{aux:!1,imageError:!1,defaultImage:tt}},created:function(){this.user.followers=[],this.user.following=[]},mounted:function(){var t=this;void 0!==this.user.followers&&(this.aux=this.user.followers.map((function(e){return e===t.authUser.data.username})).length>0)},computed:{followed:function(){var t=this;return void 0!==this.user.followers?this.user.followers.map((function(e){return e===t.authUser.data.username})).length>0:null},imageUrlUpdate:function(){return void 0===this.user.image?this.defaultImage:this.user.image.dataUrl},isPersonal:function(){return this.user.username===this.authUser.data.username}},methods:{handleFollow:function(){var t=this,e={current:this.authUser.data.username,toFollow:this.$route.params.name};this.$store.dispatch("user/toggleFollow",e).then((function(e){t.loading=!1,t.message=e.response&&e.response.data||e.message||e.toString()})),this.aux=!this.aux}}},st=et,at=(s("48af"),Object(J["a"])(st,G,Z,!1,null,"4a121062",null)),rt=at.exports,nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{staticClass:"px-0",attrs:{id:"tools-tab"}},[s("b-tabs",{attrs:{"content-class":"mt-3",justified:""}},[s("b-tab",{scopedSlots:t._u([{key:"title",fn:function(){return[s("font-awesome-icon",{staticClass:"fa-2x",attrs:{icon:"history"}})]},proxy:!0}])},[s("p",[t._v("I'm the history tab")])]),s("b-tab",{scopedSlots:t._u([{key:"title",fn:function(){return[s("font-awesome-icon",{staticClass:"fa-2x",attrs:{icon:"plus-square"}})]},proxy:!0}])},[s("p",[t._v("I'm the creator tab")])]),s("b-tab",{scopedSlots:t._u([{key:"title",fn:function(){return[s("font-awesome-icon",{staticClass:"fa-2x",attrs:{icon:"bell"}})]},proxy:!0}])},[s("p",[t._v("I'm the notifications tab")])])],1)],1)},ot=[],it={name:"ProfileTools"},lt=it,ct=Object(J["a"])(lt,nt,ot,!1,null,null,null),ut=ct.exports,mt={name:"User",data:function(){return{prevRoute:"",urlUser:{},authUser:{}}},beforeRouteUpdate:function(t,e,s){this.fetchUser(t.params.name),s()},beforeRouteEnter:function(t,e,s){s((function(t){t.prevRoute=e}))},components:{ProfileHeader:rt,ProfileTools:ut},props:["mobile","name"],computed:Object(V["a"])({},Object(m["d"])("auth",["user"])),created:function(){var t=this;this.authUser=this.user,this.$store.dispatch("user/getByUsername",this.$route.params.name).then((function(e){t.urlUser=e}),(function(t){console.log("failed: ".concat(t))}))},mounted:function(){this.authUser||this.$router.push("/"),this.fetchUser(this.$route.params.name)},methods:{logOut:function(){this.$store.dispatch("auth/logout"),this.$router.push("/")},fetchUser:function(t){var e=this;this.$store.dispatch("user/getByUsername",t).then((function(t){e.urlUser=t}),(function(t){console.log("failed: ".concat(t))}))}}},dt=mt,pt=Object(J["a"])(dt,Y,z,!1,null,null,null),ft=pt.exports,ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"activity"},[s("div",{staticClass:"container"},[s("header",{staticClass:"jumbotron"},[s("h3",[t._v(t._s(t.content))])])])])},gt=[],bt={name:"Home",data:function(){return{content:"Content for activity page"}},computed:{currentUser:function(){return this.$store.state.auth.user}},mounted:function(){this.currentUser||this.$router.push("/")}},vt=bt,wt=Object(J["a"])(vt,ht,gt,!1,null,null,null),xt=wt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background"},[a("b-container",{staticClass:"sign-up",attrs:{fluid:"lg"}},[a("b-row",{staticClass:"welcome"},[a("b-col",{attrs:{cols:"12"}},[a("img",{staticClass:"img-fluid",attrs:{src:s("f142"),alt:"Logo"}})]),a("b-col",{attrs:{cols:"12"}},[a("h1",{staticClass:"text-center mt-10"},[t._v("Welcome!")])])],1),t.successTrue()?a("div",{staticClass:"text-center"},[a("h1",{staticClass:"text-success text-center"},[t._v("Account created succesfully")]),a("router-link",{attrs:{to:"/"}},[a("b-button",{staticClass:"btn-primary m-5"},[t._v("Go to login")])],1)],1):a("div",[a("b-row",{staticClass:"passport"},[a("div",{staticClass:"passport-google col-lg-6"},[a("b-col",{attrs:{cols:"12"}},[a("b-button",{staticClass:"login-google",attrs:{pill:""}},[a("img",{attrs:{src:s("bf83"),align:"left",alt:""}}),a("p",[t._v("Login with Google")])])],1)],1),a("div",{staticClass:"passport-facebook col-lg-6"},[a("b-col",{attrs:{cols:"12"}},[a("b-button",{staticClass:"login-facebook",attrs:{pill:""}},[a("img",{attrs:{src:s("44c6"),align:"left",alt:""}}),a("p",[t._v("Login with Facebook")])])],1)],1)]),a("b-row",{staticClass:"separator",attrs:{"align-v":"center"}},[a("b-col",[a("div",{staticClass:"line"})]),a("b-col",{staticClass:"text-center",attrs:{cols:"1",xl:"2"}},[a("p",[t._v("or")])]),a("b-col",[a("div",{staticClass:"line"})])],1),a("div",{staticClass:"register-form"},[a("b-form",{attrs:{name:"form"},on:{submit:function(e){return e.preventDefault(),t.handleRegister.apply(null,arguments)}}},[a("b-form-group",{staticClass:"input-group-username",attrs:{id:"input-group-username",label:"","label-for":"input-username"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:20",expression:"'required|min:3|max:20'"}],staticClass:"input-username border-bottom",attrs:{id:"input-username",type:"text",placeholder:"Username",name:"username"},model:{value:t.newUser.username,callback:function(e){t.$set(t.newUser,"username",e)},expression:"newUser.username"}}),t.submitTrue()&&t.errors.has("username")?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.errors.first("username")))]):t._e()],1),a("b-form-group",{staticClass:"input-group-password",attrs:{id:"input-group-password",label:"","label-for":"input-password"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6|max:40",expression:"'required|min:6|max:40'"}],staticClass:"input-password border-bottom",attrs:{id:"input-password",type:"password",placeholder:"Password",name:"password"},model:{value:t.newUser.password,callback:function(e){t.$set(t.newUser,"password",e)},expression:"newUser.password"}}),t.submitTrue()&&t.errors.has("password")?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.errors.first("password")))]):t._e()],1),t.message?a("div",{staticClass:"alert my-3",class:t.successTrue()?"alert-success":"alert-danger"},[t._v(t._s(t.message.msg))]):t._e(),a("div",{staticClass:"signup-button"},[a("b-button",{attrs:{pill:"",type:"submit",variant:"primary"}},[t._v("SIGN UP")])],1),a("div",{staticClass:"login-here"},[a("p",[t._v("Already have an account? ")]),a("router-link",{attrs:{to:"/"}},[t._v("Login here")])],1)],1)],1)],1)],1)],1)},At=[],yt=Object(w["a"])((function t(e,s){Object(x["a"])(this,t),this.username=e,this.password=s})),Ut={name:"sign-up",data:function(){return{submitted:!1,successful:!1,message:"",newUser:new yt("","")}},computed:Object(V["a"])(Object(V["a"])({},Object(m["d"])("auth",["user"])),Object(m["c"])({loggedIn:"auth/isLoggedIn"})),mounted:function(){this.loggedIn&&this.$router.push("/".concat(this.user.data.username))},methods:{handleRegister:function(){var t=this;this.message="",this.submitted=!0,this.$validator.validate().then((function(e){e&&t.$store.dispatch("auth/register",t.newUser).then((function(e){t.message=e.message,t.successful=!0,t.$store.dispatch("auth/login",t.newUser).then((function(){t.$router.push("/".concat(t.user.data.username))}),(function(e){t.loading=!1,t.message=e.response&&e.response.data||e.message||e.toString()}))}),(function(e){t.message=e.response&&e.response.data||e.message||e.toString(),t.successful=!1}))}))},submitTrue:function(){return this.submitted},successTrue:function(){return this.successful}}},_t=Ut,kt=(s("bb30"),Object(J["a"])(_t,Ct,At,!1,null,"14882ac7",null)),Pt=kt.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background"},[a("b-container",{staticClass:"sign-in",attrs:{fluid:"lg"}},[a("b-row",{staticClass:"welcome"},[a("b-col",{attrs:{cols:"12"}},[a("img",{attrs:{src:s("f142"),alt:""}})]),a("b-col",{attrs:{cols:"12"}},[a("h1",[t._v("Welcome")])])],1),a("b-row",{staticClass:"passport-google"},[a("b-col",{attrs:{cols:"12"}},[a("b-button",{staticClass:"login-google",attrs:{pill:""}},[a("img",{attrs:{src:s("bf83"),align:"left",alt:""}}),a("p",[t._v("Login with Google")])])],1)],1),a("b-row",{staticClass:"passport-facebook"},[a("b-col",{attrs:{cols:"12"}},[a("b-button",{staticClass:"login-facebook",attrs:{pill:""}},[a("img",{attrs:{src:s("44c6"),align:"left",alt:""}}),a("p",[t._v("Login with Facebook")])])],1)],1),a("b-row",{staticClass:"separator",attrs:{"align-v":"center"}},[a("b-col",[a("div",{staticClass:"line"})]),a("b-col",{staticClass:"text-center",attrs:{cols:"1",xl:"2"}},[a("p",[t._v("or")])]),a("b-col",[a("div",{staticClass:"line"})])],1),a("div",{staticClass:"login-form"},[a("b-form-row",[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.handleLogin.apply(null,arguments)}}},[a("b-form-group",{staticClass:"input-group-email",attrs:{id:"input-group-email",label:"","label-for":"input-email"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"input-email border-bottom",attrs:{id:"input-email",type:"text",placeholder:"Enter username",name:"username"},model:{value:t.attemptUser.username,callback:function(e){t.$set(t.attemptUser,"username",e)},expression:"attemptUser.username"}}),t.errors.has("username")?a("div",{staticClass:"alert alert-danger username-alert",attrs:{role:"alert"}},[t._v("Username is required!")]):t._e()],1),a("b-form-group",{staticClass:"input-group-password",attrs:{id:"input-group-password",label:"","label-for":"input-password"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"input-password border-bottom",attrs:{id:"input-password",type:"password",placeholder:"Enter password",name:"password"},model:{value:t.attemptUser.password,callback:function(e){t.$set(t.attemptUser,"password",e)},expression:"attemptUser.password"}}),t.errors.has("password")?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("Password is required!")]):t._e(),a("b-row",{staticClass:"bottom-form",attrs:{"align-h":"between"}},[a("b-col",{attrs:{cols:"6"}},[a("b-form-checkbox",{staticClass:"remember-me"},[t._v(" Remember me")])],1),a("b-col",{attrs:{cols:"6"}},[a("p",[a("a",{staticClass:"forgot-password",attrs:{href:""}},[t._v("Forgot password?")])])])],1)],1),a("div",{staticClass:"form-group"},[t.message?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.message.msg))]):t._e()]),a("div",{staticClass:"login-button"},[a("b-button",{attrs:{pill:"",type:"submit",variant:"primary",disabled:t.loading}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm"}),a("span",[t._v("Login")])])],1),a("div",{staticClass:"create-account"},[a("p",{staticClass:"mx-2"},[t._v("Don't have an account? ")]),a("router-link",{attrs:{to:"/sign-up"}},[t._v("Create a torch account")])],1)],1)],1)],1)],1)],1)},jt=[],St={name:"Login",data:function(){return{attemptUser:new yt("",""),loading:!1,message:""}},computed:Object(V["a"])(Object(V["a"])({},Object(m["d"])("auth",["user"])),{},{loggedIn:function(){return this.$store.state.auth.status.loggedIn}}),created:function(){console.log("https://torch-net.herokuapp.com/api/user/"),this.loggedIn&&this.$router.push("/".concat(this.user.data.username))},methods:{handleLogin:function(){var t=this;this.loading=!0,this.$validator.validateAll().then((function(e){e?t.attemptUser.username&&t.attemptUser.password&&t.$store.dispatch("auth/login",t.attemptUser).then((function(){t.$router.push("/".concat(t.user.data.username))}),(function(e){t.loading=!1,t.message=e.response&&e.response.data||e.message||e.toString()})):t.loading=!1}))}}},It=St,Rt=(s("c606"),Object(J["a"])(It,Ot,jt,!1,null,"5a143a92",null)),Et=Rt.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{staticClass:"text-center my-4 p-2"},[s("b-row",{staticClass:"pt-4",attrs:{id:"nav-header "}},[s("b-col",{staticClass:"ps-0 text-sm-start",attrs:{cols:"6",order:"0"}},[s("b-button",{staticClass:"b-link",attrs:{size:"lg",to:{path:"/"+t.authUser.username},variant:"link"}},[t._v("Cancel")])],1),s("b-col",{staticClass:"p-1",attrs:{cols:"12",order:"2"}},[t.hasImage?t._e():s("b-img",{staticClass:"img-limit center-cropped",attrs:{id:"picture",src:t.imageUrlUpdate,fluid:"",rounded:"circle",alt:"profile picture"}}),t.hasImage?s("b-img",{staticClass:"img-limit center-cropped",attrs:{id:"picture",src:t.imageUrlUpdate,fluid:"",rounded:"circle",alt:"profile picture"}}):t._e()],1),s("b-col",{staticClass:"pe-2 text-sm-end",attrs:{cols:"6",order:"1"}},[s("b-button",{staticClass:"px-4",attrs:{type:"submit",variant:"primary"},on:{click:t.onSubmit}},[t._v("Done")])],1)],1),s("b-row",{staticClass:" mx-5 my-3 py-2 px-5 fs-5 text-white rounded"},[s("b-col",[s("b-button",{staticClass:"text-white",attrs:{variant:"info",pill:""}},[s("label",{attrs:{slot:"upload-label",for:"fileInput"},slot:"upload-label"},[s("image-uploader",{staticClass:"file-upload p-0 m-0",attrs:{show:!1,preview:!1,quality:.9,capture:"environment",debug:1,doNotResize:"gif",autoRotate:!0,outputFormat:"verbose"},on:{input:t.setImage},model:{value:t.form.image,callback:function(e){t.$set(t.form,"image",e)},expression:"form.image"}}),s("span",{staticClass:"upload-caption"},[t._v(t._s(t.hasImage?"Replace":"Click to upload"))])],1)])],1)],1),s("b-row",{staticClass:"my-5 text-start p-3"},[t.show?s("b-form",{on:{submit:t.onSubmit}},[s("b-form-group",{staticClass:"py-3",attrs:{id:"input-group-1",label:"Username:","label-for":"input-username"}},[s("b-form-input",{staticClass:"text-capitalize",attrs:{id:"input-username",type:"text",placeholder:t.user.data.username,required:""},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),s("b-form-group",{staticClass:"py-3",attrs:{id:"input-group-1",label:"Subname:","label-for":"input-subname"}},[s("b-form-input",{staticClass:"text-capitalize",attrs:{id:"input-subname",type:"text",placeholder:t.user.data.subname,required:""},model:{value:t.form.subname,callback:function(e){t.$set(t.form,"subname",e)},expression:"form.subname"}})],1),s("b-form-group",{staticClass:"py-3",attrs:{id:"input-group-1",label:"Email address:","label-for":"input-1"}},[s("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:t.user.data.email,required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),s("b-form-group",{staticClass:"py-3",attrs:{id:"textarea",label:"Bio:","label-for":"input-2"}},[s("b-form-textarea",{attrs:{id:"textarea",placeholder:t.user.data.bio,rows:"3","max-rows":"6"},model:{value:t.form.bio,callback:function(e){t.$set(t.form,"bio",e)},expression:"form.bio"}})],1)],1):t._e()],1),s("b-row",{staticClass:"my-3 text-start p-2"},[s("b-button",{attrs:{to:"/"+t.authUser.username+"/edit-profile/password",variant:"outline-danger"}},[t._v(" change password "),s("span",[s("font-awesome-icon",{staticClass:"fa-lg mx-2",attrs:{icon:"exclamation-circle",id:"settings"}})],1)])],1)],1)},Dt=[],Lt=s("fd0f"),Bt={data:function(){return{authUser:{},imageUrl:"",defaultImage:Lt,hasImage:!1,show:!0,form:{urlUsername:"",username:"",password:"",subname:"",email:"",bio:"",image:null}}},methods:{setImage:function(t){this.hasImage=!0,this.form.image=t},onSubmit:function(t){var e=this;this.form.password=this.user.data.password,this.form.urlUsername=this.user.data.username,this.hasImage||(this.form.image=this.user.data.image),t.preventDefault(),this.$store.dispatch("user/edit",this.form).then((function(t){e.msg=t.msg,e.successful=!0,e.$router.push("/")}),(function(t){e.message=t.response&&t.response.data||t.message||t.toString(),e.successful=!1}))}},created:function(){var t=this;this.$store.dispatch("user/getByUsername",this.$route.params.name).then((function(e){t.authUser=e,t.imageUrl=t.imageUrlUpdate}),(function(t){console.log("failed: ".concat(t))}))},mounted:function(){this.imageUrl=void 0===this.user.data.image?this.defaultImage:this.user.data.image.dataUrl},computed:Object(V["a"])(Object(V["a"])({},Object(m["d"])("auth",["user"])),{},{imageUrlUpdate:function(){return null===this.form.image?void 0===this.authUser.image?this.defaultImage:this.authUser.image.dataUrl:this.form.image.dataUrl}})},Ft=Bt,qt=Object(J["a"])(Ft,Nt,Dt,!1,null,null,null),Jt=qt.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-row",{staticClass:"fill",attrs:{"align-v":"center","align-h":"center",fluid:""}},[s("b-col",{staticClass:"text-center bg-light p-3 rounded shadow",attrs:{cols:"6"}},[0===t.show?s("b-form",[s("b-form-group",{attrs:{id:"input-old-pass"}},[s("b-form-input",{attrs:{type:"password",placeholder:"Enter current password"},model:{value:t.oldPass,callback:function(e){t.oldPass=e},expression:"oldPass"}}),t.failed?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[s("p",[t._v("Introduced password isn't right you have "+t._s(t.lives)+" attempts left")])]):t._e(),s("b-button",{staticClass:"m-3 px-5",attrs:{block:"",variant:"primary"},on:{click:t.tryOld}},[t._v(" enter ")])],1)],1):t._e(),1===t.show?s("b-form",[s("b-form-group",{attrs:{id:"input-new-pass"}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6|max:40",expression:"'required|min:6|max:40'"}],attrs:{type:"password",name:"pass",placeholder:"Enter new password"},model:{value:t.newPass,callback:function(e){t.newPass=e},expression:"newPass"}}),t.errors.has("pass")?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.errors.first("pass")))]):t._e(),s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"my-3",attrs:{type:"password",name:"repeat",placeholder:"Repeat new password"},on:{input:t.compareNew},model:{value:t.newPassRepeat,callback:function(e){t.newPassRepeat=e},expression:"newPassRepeat"}}),t.showValidationError?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("Passwords must match")]):t._e(),t.showSubmit?s("b-button",{staticClass:"m-3 px-5",attrs:{block:"",variant:"success"},on:{click:t.submitNew}},[t._v(" enter ")]):t._e()],1)],1):t._e(),2===t.show?s("div",[s("p",{staticClass:"fs-3"},[t._v("too many attempts, your account has been closed!")]),s("b-button",{attrs:{variant:"outline-warning",to:"/"}},[t._v(" Okay ")])],1):t._e(),3===t.show?s("div",[s("p",{staticClass:"fs-3"},[t._v("Password changed successfully")]),s("b-button",{staticClass:"text-white",attrs:{variant:"info",to:"/"}},[t._v(" Login again ")])],1):t._e()],1)],1)},Tt=[],Wt={data:function(){return{failed:!1,message:!1,authUser:{},show:0,lives:3,showValidationError:!1,showSubmit:!1,oldPass:"",newPass:"",newPassRepeat:""}},created:function(){var t=this;this.$store.dispatch("user/getByUsername",this.$route.params.name).then((function(e){t.authUser=e}),(function(t){console.log("failed: ".concat(t))}))},methods:{tryOld:function(){var t=this;""!==this.oldPass&&(this.authUser.password=this.oldPass),this.$store.dispatch("auth/login",this.authUser).then((function(){t.show=1}),(function(e){t.failed=!0,t.message=e.response&&e.response.data||e.message||e.toString(),t.lives-=1,0===t.lives&&(t.$store.dispatch("auth/logout"),t.show=2)}))},submitNew:function(){var t=this,e={u:this.authUser,p:this.newPass};this.$store.dispatch("user/changePassword",e).then((function(){t.$store.dispatch("auth/logout"),t.show=3}),(function(e){t.failed=!0,t.message=e.response&&e.response.data||e.message||e.toString(),t.lives-=1,0===t.lives&&(t.$store.dispatch("auth/logout"),t.show=2)}))},compareNew:function(){this.showValidationError=this.newPass!==this.newPassRepeat,this.newPass===this.newPassRepeat?this.showSubmit=!0:this.showSubmit=!1}}},Qt=Wt,Kt=Object(J["a"])(Qt,Ht,Tt,!1,null,null,null),Mt=Kt.exports,Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{staticClass:"my-4 p-2"},[s("b-row",{staticClass:"ms-5"},[s("router-link",{attrs:{tag:"div",to:{path:"/"+t.urlUser.username}}},[s("font-awesome-icon",{staticClass:"fa-2x",attrs:{icon:"chevron-left",id:"settings"}})],1)],1),s("h1",{staticClass:"text-center"},[t._v("Followers")]),t._l(t.images,(function(e,a){return s("b-row",{key:a,staticClass:"bg-light py-2 mt-3 shadow rounded",attrs:{"align-h":"center"}},[s("router-link",{attrs:{tag:"div",to:{path:"/"+e.username}}},[s("b-col",{staticClass:"text-start px-5",attrs:{cols:"5"}},[s("b-img",{staticClass:"img-sm-limit center-sm-cropped",attrs:{fluid:"",id:"picture",rounded:"circle",alt:"profile picture",src:void 0===e.url?t.defaultImage:e.url}})],1),s("b-col",{staticClass:"px-5 fs-4",attrs:{cols:"5","align-h":"center"}},[t._v(" "+t._s(e.username)+" ")])],1)],1)}))],2)},$t=[],Yt=s("fd0f"),zt={data:function(){return{urlUser:{},images:[],defaultImage:Yt}},created:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("user/getByUsername",t.$route.params.name).then(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(s){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.urlUser=s,a=function(e){t.$store.dispatch("user/getUserImage",s.followers[e]).then((function(a){t.images.push({username:s.followers[e],url:a.dataUrl})}))},r=0;r<s.followers.length;r+=1)a(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(t){console.log("failed: ".concat(t))}));case 2:case"end":return e.stop()}}),e)})))()}},Vt=zt,Gt=Object(J["a"])(Vt,Xt,$t,!1,null,null,null),Zt=Gt.exports,te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{staticClass:"my-4 p-2"},[s("b-row",{staticClass:"ms-5"},[s("router-link",{attrs:{tag:"div",to:{path:"/"+t.urlUser.username}}},[s("font-awesome-icon",{staticClass:"fa-2x",attrs:{icon:"chevron-left",id:"settings"}})],1)],1),s("h1",{staticClass:"text-center"},[t._v("Following")]),t._l(t.images,(function(e,a){return s("b-row",{key:a,staticClass:"bg-light py-2 mt-3 shadow rounded",attrs:{"align-h":"center"}},[s("router-link",{attrs:{tag:"div",to:{path:"/"+e.username}}},[s("b-col",{staticClass:"text-start px-5",attrs:{cols:"5"}},[s("b-img",{staticClass:"img-sm-limit center-sm-cropped",attrs:{fluid:"",id:"picture",rounded:"circle",alt:"profile picture",src:void 0===e.url?t.defaultImage:e.url}})],1),s("b-col",{staticClass:"px-5 fs-4",attrs:{cols:"5","align-h":"center"}},[t._v(" "+t._s(e.username)+" ")])],1)],1)}))],2)},ee=[],se=s("fd0f"),ae={data:function(){return{urlUser:{},images:[],defaultImage:se}},created:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("user/getByUsername",t.$route.params.name).then(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(s){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.urlUser=s,a=function(e){t.$store.dispatch("user/getUserImage",s.following[e]).then((function(a){t.images.push({username:s.following[e],url:a.dataUrl})}))},r=0;r<s.following.length;r+=1)a(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(t){console.log("failed: ".concat(t))}));case 2:case"end":return e.stop()}}),e)})))()}},re=ae,ne=Object(J["a"])(re,te,ee,!1,null,null,null),oe=ne.exports;u["default"].use(D["a"]);var ie=[{path:"/sign-up",name:"sign-up",component:Pt},{path:"/",name:"sign-in",component:Et},{path:"/explore",name:"explore",component:$,meta:{requiresAuth:!0}},{path:"/activity",name:"activity",component:xt,meta:{requiresAuth:!0}},{path:"/:name",name:"user",component:ft,props:!0},{path:"/:name/edit-profile",name:"editProfile",props:!0,component:Jt,meta:{transitionName:"slide"}},{path:"/:name/edit-profile/password",name:"editPassword",props:!0,component:Mt,meta:{transitionName:"slide"}},{path:"/:name/followers",name:"followersList",props:!0,component:Zt,meta:{transitionName:"slide"}},{path:"/:name/following",name:"followingList",props:!0,component:oe,meta:{transitionName:"slide"}},{path:"*",component:T,meta:{layout:"none"}}],le=new D["a"]({mode:"history",base:"/",routes:ie}),ce=le,ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.mobile&&["activity","explore","user"].includes(t.$route.name)?s("MobileNavbar"):!t.mobile&&["activity","explore","user"].includes(t.$route.name)?s("DesktopNavbar"):t._e(),s("transition",{attrs:{name:t.transitionName,mode:"out-in"}},[s("router-view",{attrs:{mobile:t.mobile}})],1)],1)},me=[],de=(s("ac1f"),s("1276"),s("00b4"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{staticClass:"navbar navbar-dark bg-teal justify-content-between flex-nowrap flex-row"},[s("div",{staticClass:"container"},[t._m(0),s("ul",{staticClass:"nav navbar-nav justify-content-between flex-nowrap flex-row "},[s("li",{staticClass:"nav-item mx-5 px-5",attrs:{to:"/activity"}},[s("b-nav-item",{attrs:{to:"/activity"}},[t._v(" ACTIVITY ")])],1),s("li",{staticClass:"nav-item mx-5 px-5",attrs:{to:"/explore"}},[s("b-nav-item",{attrs:{to:"/explore"}},[t._v(" EXPLORE ")])],1),s("li",{staticClass:"nav-item mx-5 px-5",attrs:{to:"/activity"}},[s("b-nav-item",{staticClass:"mx-6",attrs:{to:{path:"/"+t.user.data.username}}},[t._v(" PROFILE ")])],1)])])])])}),pe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"navbar-brand text-white float-left ",attrs:{href:"#"}},[a("img",{staticClass:"img-fluid",attrs:{src:s("0fad"),alt:"",width:"200"}})])}],fe=(s("caad"),s("2532"),{computed:Object(V["a"])(Object(V["a"])({},Object(m["d"])("auth",["user"])),{},{currentUser:function(){return this.$store.state.auth.user},showAdminBoard:function(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("ROLE_ADMIN")},showModeratorBoard:function(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("ROLE_MODERATOR")}}),methods:{logOut:function(){this.$store.dispatch("auth/logout"),this.$router.push("/")}}}),he=fe,ge=(s("3c2b"),Object(J["a"])(he,de,pe,!1,null,"15f70608",null)),be=ge.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-nav",{staticClass:"navbar"},[s("b-nav-item",{attrs:{to:"/activity"}},[s("font-awesome-icon",{staticClass:"fa-md",attrs:{icon:"home"}})],1),s("b-nav-item",{attrs:{to:"/explore"}},[s("font-awesome-icon",{staticClass:"fa-md",attrs:{icon:"search"}})],1),s("b-nav-item",{attrs:{to:"/"+this.user.data.username}},[s("font-awesome-icon",{staticClass:"fa-md",attrs:{icon:"user-circle"}})],1)],1)},we=[],xe={name:"MobileNavbar",props:{msg:String},computed:Object(V["a"])({},Object(m["d"])("auth",["user"])),methods:{changeRoute:function(){this.$router.push("/".concat(this.user.data.username))}}},Ce=xe,Ae=(s("8463"),Object(J["a"])(Ce,ve,we,!1,null,"31a033ce",null)),ye=Ae.exports,Ue="fade",_e={components:{MobileNavbar:ye,DesktopNavbar:be},data:function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,mobile:!1,transitionName:Ue}},mounted:function(){var t=this;this.getDimensions(),window.addEventListener("resize",this.getDimensions),this.$router.beforeEach((function(e,s,a){var r=e.meta.transitionName||s.meta.transitionName;if("slide"===r){var n=e.path.split("/").length,o=s.path.split("/").length;r=n<o?"slide-down":"slide-up"}t.transitionName=r||Ue,a()}))},unmounted:function(){this.getDimensions(),window.removeEventListener("resize",this.getDimensions)},methods:Object(V["a"])(Object(V["a"])({},Object(m["b"])(["attempt","logout"])),{},{checkToken:function(){this.atempt()},created:function(){this.loading=!0,this.checkToken(),window.addEventListener("load",this.loading=!1)},getDimensions:function(){this.width=document.documentElement.clientWidth,this.height=document.documentElement.clientHeight,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?this.mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent):this.mobile=document.documentElement.clientWidth<=800},isMobile:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}})},ke=_e,Pe=(s("7c55"),Object(J["a"])(ke,ue,me,!1,null,null,null)),Oe=Pe.exports;u["default"].use(f.a),u["default"].use(a["a"]),u["default"].use(r["a"]),u["default"].use(r["b"]),u["default"].use(o.a),l["c"].add(c["e"],c["c"],c["d"],c["h"],c["b"],c["f"],c["a"],c["i"],c["p"],c["g"],c["j"],c["n"],c["m"],c["o"],c["k"],c["l"]),u["default"].component("font-awesome-icon",i["a"]),u["default"].use(m["a"]),u["default"].use(d["a"]);var je=new m["a"].Store(N);u["default"].config.productionTip=!1,new u["default"]({router:ce,store:je,render:function(t){return t(Oe)}}).$mount("#app")},"5aea":function(t,e,s){},6161:function(t,e,s){},"626b":function(t,e,s){},6671:function(t,e,s){"use strict";s("4f27")},6859:function(t,e,s){},"75e1":function(t,e,s){},"7c55":function(t,e,s){"use strict";s("2395")},8463:function(t,e,s){"use strict";s("6859")},bb30:function(t,e,s){"use strict";s("6161")},bf83:function(t,e,s){t.exports=s.p+"img/google.ff629c02.png"},c606:function(t,e,s){"use strict";s("fba3")},f142:function(t,e,s){t.exports=s.p+"img/torch-logo.9d9a58da.png"},fba3:function(t,e,s){},fd0f:function(t,e,s){t.exports=s.p+"img/torch-logo-black.ace084e2.png"},feca:function(t,e,s){}});
//# sourceMappingURL=app.ef383ae6.js.map